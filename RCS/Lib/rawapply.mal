; The raw apply procedure has to be written in mal
; (MacScheme assembly language) because the compiler
; never emits an apply instruction.

;(define (@raw-apply@ f l)
;  (primop-apply f l))

`((,$lambda ((,$.proc)
             (,$args= 2)
             (,$reg 1)
             (,$movereg 2 1)
             (,$apply)
             (,$.label 1001)
             (,$branch 1001))  ; just a precaution
            0
            (#t))
  (,$setglbl @raw-apply@)
  (,$const @raw-apply@)
  (,$return))
