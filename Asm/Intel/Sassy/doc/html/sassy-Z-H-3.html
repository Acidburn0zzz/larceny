<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--

Generated from sassy.tex by tex2page, v 20050501
(running on MzScheme 301, unix), 
(c) Dorai Sitaram, 
http://www.ccs.neu.edu/~dorai/tex2page/tex2page-doc.html

-->
<head>
<title>
Sassy - 0.2
</title>
<link rel="stylesheet" type="text/css" href="sassy-Z-S.css" title=default>
<meta name=robots content="noindex,follow">
</head>
<body>
<div id=content>
<div align=right class=navigation><i>[Go to <span><a href="sassy.html">first</a>, <a href="sassy-Z-H-2.html">previous</a></span><span>, <a href="sassy-Z-H-4.html">next</a></span> page<span>; &nbsp;&nbsp;</span><span><a href="sassy-Z-H-2.html#node_toc_start">contents</a></span><span><span>; &nbsp;&nbsp;</span><a href="sassy-Z-H-15.html#node_index_start">index</a></span>]</i></div>
<p></p>
<a name="node_chap_1"></a>
<h1 class=chapter>
<div class=chapterheading><a href="sassy-Z-H-2.html#node_toc_node_chap_1">Chapter 1</a></div><br>
<a href="sassy-Z-H-2.html#node_toc_node_chap_1">Overview</a></h1>
<p>
<a name="node_idx_2"></a></p>
<p>
First things first! We absolutely must say ``Hello World!'' in the
following manner!</p>
<p>
</p>
<pre class=scheme>(<span class=variable>sassy</span>
 <span class=keyword>'</span>((<span class=keyword>text</span>
    (<span class=variable>mov</span> <span class=variable>eax</span> <span class=selfeval>1</span>)
    (<span class=variable>mov</span> <span class=variable>ecx</span> <span class=selfeval>5</span>)
    (<span class=builtin>while</span> (<span class=variable>&gt;</span> <span class=variable>ecx</span> <span class=selfeval>0</span>)
	   (<span class=keyword>begin</span> (<span class=variable>mul</span> <span class=variable>ecx</span>)
		  (<span class=variable>sub</span> <span class=variable>ecx</span> <span class=selfeval>1</span>))))))
</pre><p></p>
<p>
Sassy is a portable assembler for the x86 processor which fully supports
32-bit or ``protected-mode'' programming and partially supports 16
bit programming using 32-bit mode addressing.</p>
<p>
Sassy is based
on Henry Baker's COMFY-65 compiler, which he wrote in PDP-10
Maclisp, subsequently ported to GNU Emacs Elisp, and which targeted the
MOS 6502 processor.<a name="node_call_footnote_1"></a><a href="#node_footnote_1"><sup><small>1</small></sup></a></p>
<p>
One of the primary selling points of COMFY-65 (besides its small size
and the fact that it employed a syntax based on s-expressions) was its
``comfortable set of control primitives'', such as <code class=verbatim>seq</code>,
<code class=verbatim>while</code>, and <code class=verbatim>if</code>. When the assembly programmer/compiler
writer used the structure inherent in these constructs, they didn't
have to code up a nest of obscure local labels in order to control the
flow of computation. By taking advantage of Lisp's recursive nature,
COMFY-65 managed this in one pass.</p>
<p>
Sassy works the same way. Its syntax consists of s-expressions and it
features the same set of control primitives, and is a (mostly)
one-pass assembler written in about 3,000 lines of Scheme. At the same
time, Sassy is similar to traditional assemblers for the x86, with
directives for separate heap, data, and text sections, the ability to
annotate linker-specific relocation types, and support for labels,
locally nested or not (something COMFY-65 lacked; Baker recommended
using jump-tables. Sassy uses back-patching). Sassy has a simple macro
system, or programmers may write ``escapes'' to Scheme in order to
take advantage of Scheme's meta-programming facilities. Sassy is a
complete 32-bit assembler for the x86 line and recognizes the full
32-bit instruction set, up to and including the SSE3 extensions.</p>
<p>
Sassy is also target- and linker-neutral. Sassy generates a record of
objects and information, representing, for instance, the text section,
or the alignment requirements of the data section. The programmer may
pass the record to an output module that in turn creates the final
output suitable for linking or loading. Sassy comes with an output
module that creates ELF object files for GNU/Linux with dynamic shared
library support, or programmers may use Sassy's API to create their
own output modules.</p>
<p>

</p>
<div class=footnoterule><hr></div><p></p>
<div class=footnote><p><a name="node_footnote_1"></a><a href="#node_call_footnote_1"><sup><small>1</small></sup></a> Baker's papers:
</p>
<ul>
<li><p><a href="http://home.pipeline.com/~hbaker1/sigplannotices/COMFY.TXT">Comfy paper</a>
</p>
<li><p><a href="http://home.pipeline.com/~hbaker1/sigplannotices/column04.tex.gz">T<small>E</small>X</a> version of COMFY-65 paper. Some T<small>E</small>Xmacros are missing, but the text itself is readable.
</p>
<li><p><a href="http://portal.acm.org/citation.cfm?id=270947&coll=Portal&dl=ACM&CFID=59234996&CFTOKEN=30061940">printed</a> version of COMFY-65 paper. You'll need access to an ACM membership to get this.
</p>
<li><p><a href="http://home.pipeline.com/~hbaker1/sigplannotices/CFYCMP1.LSP">Elisp implementation</a> of COMFY-65
</p>
</ul><p>
</p>
</div>
<div align=right class=navigation><i>[Go to <span><a href="sassy.html">first</a>, <a href="sassy-Z-H-2.html">previous</a></span><span>, <a href="sassy-Z-H-4.html">next</a></span> page<span>; &nbsp;&nbsp;</span><span><a href="sassy-Z-H-2.html#node_toc_start">contents</a></span><span><span>; &nbsp;&nbsp;</span><a href="sassy-Z-H-15.html#node_index_start">index</a></span>]</i></div>
<p></p>
</div>
</body>
</html>
